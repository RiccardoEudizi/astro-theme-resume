---
import PageLayout from '../layouts/BaseLayout.astro'
import Section from '../components/Section.astro'

import ProjectCard from '../components/ProjectCard.astro'
import Label from '../components/Label.astro'

import { Image } from 'astro:assets'
import astro from '../assets/about-astro.jpg'

import { getAllPosts, sortMDByDate } from '@/utils'
import { Icon } from 'astro-icon/components'

const location = 'Rome, Italy, CET'
const locationLink = 'https://www.google.com/maps/place/Rome'

const socials = [
	{
		title: 'GitHub',
		img: 'github',
		url: 'https://github.com/RiccardoEudizi'
	},
	{
		title: 'LinkedIn',
		img: 'linkedin',
		url: 'https://www.linkedin.com/in/riccardo-eudizi-7a53a9205'
	},
	{
		title: 'Twitter',
		img: 'twitter',
		url: 'https://twitter.com/riccardiin0'
	}
]
const projects = [
	{
		title: 'Ssetto',
		techStack: ['Package', 'TypeScript', 'SolidJs'],
		imageSrc: '/src/assets/ssetto.png',
		description: 'An unstyled drawer with a sheet animation on top of it',
		link: {
			label: 'ssetto.com',
			href: 'https://ssetto.vercel.app/'
		}
	},
	{
		title: 'Sonner-Solid',
		techStack: ['Package', 'TypeScript', 'SolidJs'],
		imageSrc: '/src/assets/sonner-solid.png',
		description: 'An opinionated toast component for Solid Js',
		link: {
			label: 'sonner-solid.com',
			href: 'https://sonner-solid.vercel.app/'
		}
	},
	{
		title: 'Free News Project',
		techStack: ['Side Project', 'Astro', 'SolidJS', 'Cheerio'],
		imageSrc: '/src/assets/freenewsproject.png',
		description:
			'Web App that scrape the content of any online article and let you read it without annoying ads',
		link: {
			label: 'free-news-project.com',
			href: 'https://free-news-project.vercel.app/'
		}
	},
	{
		title: 'Steganography Project',
		imageSrc: '/src/assets/screen_stegano.png',
		techStack: ['Side Project', 'Qwik', 'Go Fiber'],
		description:
			'A project that I made to play with Go, using steganography, a technique used to encrypt messages into files. This app let you upload a photo and a message, and return the photo with the message encoded in it. It let you decode it as well. The back-end is written in Go using Go Fiber, the front-end is built with Qwik JS',
		link: {
			label: 'stegano.com',
			href: 'https://qwik-app-two.vercel.app/'
		}
	},
	{
		title: 'TextOS Weather',
		imageSrc: '/src/assets/textosweather.png',
		techStack: ['Side Project', 'SolidJS'],
		description: 'A simple weather app with ascii animations',
		link: {
			label: 'textos-weather.com',
			href: 'https://text-os-weather.vercel.app/'
		}
	},
	{
		imageSrc: '/src/assets/lifepercentage.png',
		title: 'Life Percentage',
		techStack: ['Side Project', 'TypeScript', 'Astro', 'Vite', 'SolidJs'],
		description:
			'App that calculate yor life percentage  based on WHO(World Health Organization) data, it gets your life expectancy based on your age and country, and then gets the percentage. (Just for europe for now)',

		link: {
			label: 'life-estimate.com',
			href: 'https://life-estimate.vercel.app/'
		}
	}
	// {
	//   title: "Intergalactic Radio",
	//   techStack: ["Side Project", "Astro", "SolidJS"],
	//   description:
	//     "An example app to show usage of Supabase Realtime, users can set the URL to a YouTube Music track, other users can listen to the same track by having the link to the room",
	//   link: {
	//     label: "intergalacticradio.com",
	//     href: "https://intergalactic-radio.vercel.app/landing",
	//   },
	// },
]
const MAX_POSTS = 10
const allPosts = await getAllPosts()
const allPostsByDate = sortMDByDate(allPosts).slice(0, MAX_POSTS)
---

<PageLayout meta={{ title: 'Home' }}>
	<div class='flex w-full flex-col gap-y-10'>
		<section class='flex flex-col items-center gap-y-7'>
			<Image
				src={astro}
				alt='profile photo'
				class='h-28 w-auto rounded-full bg-[#FFBE98] p-2'
				loading='eager'
			/>

			<div class='flex flex-col items-center gap-y-4'>
				<h1 class='text-3xl font-bold'>Riccardo Eudizi</h1>
				<a
					href='mailto:rik.eudizi@gmail.com'
					class='flex flex-row items-center gap-x-3 rounded-3xl border border-input px-4 py-2 text-sm shadow-sm transition-all hover:shadow-md'
				>
					<span class='relative flex items-center justify-center'>
						<span
							class='absolute inline-flex h-2 w-2 animate-ping rounded-full border border-green-400 bg-green-400 opacity-75'
						></span>
						<span class='relative inline-flex h-2 w-2 rounded-full bg-green-400'></span>
					</span>

					<p class='font-medium'>Contact me</p>
				</a>
				<div class='flex flex-wrap justify-center gap-x-7 gap-y-3'>
					<Label title='Full Stack Developer'>
						<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' class='h-5 w-5' slot='icon'
							><path
								fill='currentColor'
								d='M4.615 20q-.69 0-1.152-.462Q3 19.075 3 18.385v-9.77q0-.69.463-1.152Q3.925 7 4.615 7H9V5.615q0-.69.463-1.152Q9.925 4 10.615 4h2.77q.69 0 1.153.463q.462.462.462 1.152V7h4.385q.69 0 1.152.463q.463.462.463 1.152v9.77q0 .69-.462 1.152q-.463.463-1.153.463zm0-1h14.77q.23 0 .423-.192q.192-.193.192-.423v-9.77q0-.23-.192-.423Q19.615 8 19.385 8H4.615q-.23 0-.423.192Q4 8.385 4 8.615v9.77q0 .23.192.423q.193.192.423.192M10 7h4V5.615q0-.23-.192-.423Q13.615 5 13.385 5h-2.77q-.23 0-.423.192q-.192.193-.192.423zM4 19V8z'
							></path></svg
						>
					</Label>
					<Label
						title='Rome, Italy'
						as='a'
						href={'https://www.google.com/maps/place/Rome'}
						target='_blank'
					>
						<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' class='h-5 w-5' slot='icon'
							><path
								fill='currentColor'
								d='M12.003 11.73q.668 0 1.14-.475q.472-.475.472-1.143t-.475-1.14q-.476-.472-1.143-.472t-1.14.476q-.472.475-.472 1.143t.475 1.14q.476.472 1.143.472M12 19.677q2.82-2.454 4.458-4.991q1.638-2.538 1.638-4.39q0-2.744-1.737-4.53T12 3.981q-2.621 0-4.359 1.785t-1.737 4.53q0 1.852 1.638 4.39q1.639 2.537 4.458 4.99m0 1.343q-3.525-3.117-5.31-5.814q-1.786-2.697-1.786-4.909q0-3.173 2.066-5.234Q9.037 3 12 3t5.03 2.062q2.066 2.061 2.066 5.234q0 2.212-1.785 4.909q-1.786 2.697-5.311 5.814m0-10.904'
							></path></svg
						>
					</Label>
					{
						socials.map((x) => (
							<Label title={x.title} as='a' href={x.url} target='_blank'>
								<Icon name={x.img} class='z-20 h-8 w-8 rounded-lg bg-muted p-2' slot={'icon'} />
							</Label>
						))
					}
				</div>
			</div>
		</section>

		<Section title='About'>
			<p class='text-muted-foreground'>
				I am Riccardo, I am developer from Italy, Rome, and I am 21 years old. I have a high school
				degree in computer science but all my knoweledge in software development is almost
				self-made. I have 3+ years of experience in software development. Experience in Web
				Development, working with Databases, REST API with languages like C#, GO, JS, Java, and
				experience in various JS UI Frameworks like React, Solid and Astro. I like building User
				Interfaces as well as building the backend side of a project. I love to solve problems with
				code. My favourite programming languages are TypeScript and C#, but I also know and use Java
				and SQL at work. I daily use frameworks and libraries like React.js, Solid JS, Qwik, React Native,
				Next.js, Astro. I love developing apps that have a useful context and help users doing
				complex tasks in a simple way
			</p>
		</Section>
		<!-- {
			allPostsByDate.length > 0 && (
				<Section title='Posts'>
					<ul class='flex flex-col gap-y-2'>
						{allPostsByDate.map((p) => (
							<li class='flex flex-col gap-x-2 sm:flex-row'>
								<PostPreview post={p} />
							</li>
						))}
					</ul>
				</Section>
			)
		} -->

		<Section title='Projects'>
			<div class='grid grid-cols-1 gap-y-3 sm:grid-cols-3 sm:flex-row sm:gap-x-3'>
				{
					projects.map((x) => (
						<ProjectCard
							href={x.link.href}
							heading={x.title}
							subheading={x.description}
							imagePath={x.imageSrc}
							altText='Example'
							class='w-full '
						/>
					))
				}
			</div>
		</Section>
	</div>
	<a
		href='mailto:rik.eudizi@gmail.com'
		class='mt-16 flex flex-row items-center gap-x-3 rounded-3xl border border-input px-4 py-2 text-sm shadow-sm transition-all hover:shadow-md'
	>
		<span class='relative flex items-center justify-center'>
			<span
				class='absolute inline-flex h-2 w-2 animate-ping rounded-full border border-green-400 bg-green-400 opacity-75'
			></span>
			<span class='relative inline-flex h-2 w-2 rounded-full bg-green-400'></span>
		</span>

		<p class='font-medium'>Contact with me</p>
	</a>
</PageLayout>
